<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<title>Working with Description Files</title>

<body bgcolor="#ffffcc">

<!--NewPage-->
<h1><img src="juggler.gif" width="29" height="33"></img>Working with ConfigChunk description files</h1>

Vjcontrol includes the ability to view and edit the Chunk Description
files, allowing you to create new kinds of ConfigChunks or modify existing
Chunks.  Typically, there are two reasons you might want to do this:
<ol>
<li>You're an application writer, and you want your application to be
able to configure itself using the VR Juggler configuration mechanism.
You could create a new kind of ConfigChunk that contains information
specific to your application.
<li>You're developing a new component for VR Juggler - a device driver,
or something similar.  You would create a ConfigChunk to define the driver's 
configuration info, which could include things like serial port name and 
speed, calibration files, and so on.
</ol>

<p>
You can load and edit VR Juggler Chunk Description Files by clicking on the 
"Descriptions" tab of vjcontrol's main window.

<p>The Descriptions panel is similar to the <a href="ChunkDBPanel.html">
Configure panel</a>, without the side-by-side display of multiple files.

<p>
<img alt="Descriptions Panel picture" src="./gfx/DescDBPanel1.png"></img>

<p>
The ComboBox at the top of the panel lets you choose which of the
loaded description files to display (in this case, the file is called
``chunksDesc'').  Below that is a list of all the ChunkDescs defined
in the file.  Click on a name 
to select it.  You can double-click
on a name to view or edit the ChunkDesc.

<p>
There are six buttons along the side of the panel:

<ul>
<li>New - creates a new (empty) descriptions file.
<li>Load - loads a descriptions file.
<li>Save - save the descriptions file currently being viewed.  Note that this
button always opens a file dialog, so it's technically ``Save As...''
<li>Close - removes the currently viewed description file from memory.
<b>WARNING!</b> VjControl does not currently warn you if you close a
file without saving it.

<li>Remove - deletes all selected descriptions in the currently viewed file.
<li>Insert - inserts a new description.  Initially, a new description only
has one property - the instance name.

</ul>

<hr>

<h2>The ChunkDesc editing window</h2>

Double-clicking on the name of a ChunkDesc brings up a new window, like
this:

<p>
<img alt="Description Editing Window" src="./gfx/DescFrame1.png"></img>
<p>

The uppermost part of the window displays basic information about the
ChunkDesc.  Every ChunkDesc has two identifiers: a descriptive name which
is used for GUI displays, and a shorter token, which is used in the file
format and internally by VR Juggler.  The name can be any short descriptive 
phrase; the token should be terse and may not contain spaces.
<p>
There is also a help string, which can be used to provide a general
one-line description of what the ChunkDesc is for.

<p>
The center of the ChunkDesc editing window displays a scrollable list of
all the properties that ConfigChunks using this description should have.
Every ChunkDesc includes a Name property, which is actually used to store
the instance name for ConfigChunks of that type.  The number and type of
other properties can vary.
<p>
Users can add a new property by pressing the "Insert" button at the bottom of 
the window.  Properties can be removed by selecting them (clicking on the 
background of the property's box) and then pressing the "Remove" button.

<p>
As with the ChunkDesc itself, each property has a descriptive name and
short token, as well as a help string.  Some properties can have multiple
values (e.g. a position with separate x, y, and z values); this can be
defined by entering the desired number of values in the "Number" box, or
by selecting the "Var Arguments" value, for a property with a variable
number of values.

<p>
Every property has a specific type of legal values (integers, strings, 
etc.); this is selected in the "Type" box.  The meanings of the different
types are explained in the <a href="chunkprimer.html">ConfigChunk 
Primer</a>.

<p>
If a property allows multiple values, it may be helpful to provide 
individual lables for each one.  For example, a "Window Size" parameter
may have values labeled "Width" and "Height".  To define labels, click
on the property's "Value Labels" button.  A window like this one will be
displayed:

<p>
<img src="./gfx/ValueLabels1.png" alt="Value labels editor window"></img>

<p>
Enumerations/allowed chunks

<p>
How to use DescHelp files

(under construction)

<br><br>
</body>


</html>


