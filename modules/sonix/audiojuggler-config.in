#!/bin/sh

# ***************** <AJ heading BEGIN do not edit this line> *****************
#
# Audio Juggler
#
# Original Authors:
#   Kevin Meinert, Carolina Cruz-Neira
#
# -----------------------------------------------------------------
# File:          $RCSfile$
# Date modified: $Date$
# Version:       $Revision$
# -----------------------------------------------------------------
#
# ****************** <AJ heading END do not edit this line> ******************
# ************** <auto-copyright.pl BEGIN do not edit this line> **************
#
# VR Juggler is (C) Copyright 1998, 1999, 2000, 2001 by Iowa State University
#
# Original Authors:
#   Allen Bierbaum, Christopher Just,
#   Patrick Hartling, Kevin Meinert,
#   Carolina Cruz-Neira, Albert Baker
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Library General Public
# License as published by the Free Software Foundation; either
# version 2 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Library General Public License for more details.
#
# You should have received a copy of the GNU Library General Public
# License along with this library; if not, write to the
# Free Software Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
#
# *************** <auto-copyright.pl END do not edit this line> ***************




%{
%}

subsystem_cflags="@application_cflags@"
subsystem_cxxflags="@application_cxxflags@"
subsystem_libs="@application_libs@"
Juggler_lib="@Juggler_lib@"

prefix=@prefix@
exec_prefix=@exec_prefix@
exec_prefix_set=no

usage()
{
    cat <<EOF
Usage: $0 [OPTIONS] [LIBRARIES]
Options:
        [--basedir]           Use \$AJ_BASE_DIR when printing paths
        [--prefix[=DIR]]      Print the installation prefix or set an
                              alternate prefix to use when printing paths
        [--exec-prefix[=DIR]] Print the executable prefix or set an alternate
                              executable prefix to use when printing paths
        [--libs]              Print the basic Audio Juggler libraries
        [--extra-libs]        Print the extra linker options needed for
                              making an executable
        [--cflags]            Print the flags for the C compiler
        [--cxxflags]          Print the flags for the C++ compiler
        [--subsystem]         Print the OS abstraction layer being used

Libraries (prints the linker options for one or more of these libraries):
        aj (all basic libraries)
        AudioJuggler
EOF

    exit $1
}

if test $# -eq 0; then
    usage 1 1>&2
fi

lib_Juggler=no

while test $# -gt 0; do
    case "$1" in
        -*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
        *) optarg= ;;
    esac

    case $1 in
        --basedir)
            use_base_dir=yes
            ;;
        --prefix=*)
            prefix=$optarg
            if test $exec_prefix_set = no ; then
                exec_prefix=$optarg
            fi
            ;;
        --prefix)
            echo_prefix=yes
            ;;
        --exec-prefix=*)
            exec_prefix=$optarg
            exec_prefix_set=yes
            ;;
        --exec-prefix)
            echo_exec_prefix=yes
            ;;
        --version)
            echo @AJ_MAJOR_VERSION@.@AJ_MINOR_VERSION@.@AJ_MICRO_VERSION@
            ;;
        --cflags)
            echo_cflags=yes
            ;;
        --cxxflags)
            echo_cxxflags=yes
            ;;
        --subsystem)
            echo @SUBSYSTEM@
            ;;
        --libs)
            echo_libs=yes
            ;;
        --extra-libs)
            echo_extra_libs=yes
            ;;
        --static)
            echo_static=yes
            ;;
        aj)
            lib_Juggler_all=yes
            ;;
        AudioJuggler)
            lib_Juggler=yes
            lib_Juggler_all=no
            ;;
        *)
            usage 1 1>&2
            ;;
    esac
    shift
done

if test "x$lib_Juggler_all" = "x" ; then
    lib_Juggler_all=yes
fi

if test "$echo_prefix" = "yes"; then
    if test "$use_base_dir" = "yes"; then
        echo $AJ_BASE_DIR
    else
        echo $prefix
    fi
fi

if test "$echo_exec_prefix" = "yes"; then
    if test "$use_base_dir" = "yes"; then
        echo $AJ_BASE_DIR
    else
        echo $exec_prefix
    fi
fi

if test "$echo_cflags" = "yes"; then
    if test "$use_base_dir" = "yes"; then
        echo @CFLAGS@ -I$AJ_BASE_DIR/include $subsystem_cflags
    else
        echo @CFLAGS@ -I@includedir@ $subsystem_cflags
    fi
fi

if test "$echo_cxxflags" = "yes"; then
    if test "$use_base_dir" = "yes"; then
        echo @CXXFLAGS@ -I$AJ_BASE_DIR/include $subsystem_cxxflags
    else
        echo @CXXFLAGS@ -I@includedir@ $subsystem_cxxflags
    fi
fi

if test "$echo_static" = "yes" ; then
    static_begin='@static_begin@'
    static_end='@static_end@'
fi

if test "$echo_libs" = "yes"; then
    if test "$use_base_dir" = "yes"; then
        ldflags="-L$AJ_BASE_DIR/lib@LIBBITSUF@"
    else
        ldflags="@aj_ldflags@"
    fi

    if test "x$lib_Juggler_all" = "xyes" ; then
        aj_libs="@aj_libs@"
    else
        if test "x$lib_Juggler" = "xyes" ; then
            aj_libs="$Juggler_lib"
        fi
    fi

    echo $ldflags $static_begin $aj_libs $static_end
fi      

if test "x$echo_extra_libs" = "xyes"; then
    aj_extra_ldflags="@aj_extra_ldflags@"
    aj_extra_libs="@aj_extra_libs@"
    echo $aj_extra_ldflags $aj_extra_libs
fi
