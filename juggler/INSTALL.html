<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Building and Installing the Juggler Project</title><link rel="stylesheet" href="base_style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.50.1-EXP2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><h1 class="title"><a name="d0e2"></a>Building and Installing the Juggler Project</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author">The Juggler Team</h3></div></div></div><div><p class="pubdate">$Date$</p></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><a href="#d0e16">Introduction</a></dt><dd><dl><dt><a href="#d0e21">Important Note for IRIX Users</a></dt></dl></dd><dt><a href="#d0e40">Getting the Source Code</a></dt><dd><dl><dt><a href="#d0e91">How to get the Juggler Suite and external package dependencies</a></dt><dt><a href="#acquire">Acquire third-party packages</a></dt></dl></dd><dt><a href="#d0e214">Compiling</a></dt><dd><dl><dt><a href="#d0e219">Important Note Regarding Compiling</a></dt><dt><a href="#d0e227">Compiling the Juggler Suite of tools</a></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e16"></a>Introduction</h2></div></div><p>This document explains how to build the modules of the Juggler Project from the source code.</p><div class="section"><div class="titlepage"><div><h3 class="title"><a name="d0e21"></a>Important Note for IRIX Users</h3></div></div><p>There are many Perl scripts used as part of getting, configuring, and building the Juggler Suite of tools. In particular, two scripts required for compiling need Perl 5.005 or newer. The version of Perl that ships with IRIX 6.5 is very old (circa 1997) and does not work with many Perl scripts we have written. SGI provides a much newer version of Perl (5.6.1) with their freeware tools (<a href="http://freeware.sgi.com/" target="_top">http://freeware.sgi.com/</a>). It will be necessary to install that version for our scripts to work. This version is typically installed as <tt>/usr/freeware/bin/perl</tt>.</p><p>Once you have a modern Perl installed, you can run various Perl scripts as follows:</p><pre class="screen">/usr/freeware/bin/perl &lt;script-name&gt;</pre><p>The above will be required any time a Perl script fails with an error similar to the following:</p><pre class="screen">Perl 5.005 required--this is only version 5.00404, stopped at ./configure.pl line 35.
BEGIN failed--compilation aborted at ./configure.pl line 35.</pre></div></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e40"></a>Getting the Source Code</h2></div></div><p>This section is for those users who want to get the Juggler source code from the CVS repository on SourceForge. Those users who have downloaded a pre-packaged version of the source can skip ahead to <a href="#config.section" title="Configuring and compiling VR Juggler">the section called &#8220;Configuring and compiling VR Juggler&#8221;</a>.</p><p>Getting the source code takes a few steps. You have to first download or check out Juggler and some external packages such as GMTL, CppDOM, Boost, and possibly NSPR. The steps are listed in the following sections. The current list of <span class="emphasis"><em>required</em></span> software packages is as follows:</p><div class="itemizedlist"><ul type="disc"><li><p>GMTL (<a href="http://ggt.sourceforge.net/" target="_top">http://ggt.sf.net/</a>): A generic math library that makes use of C++ templates and STL paradigms</p></li><li><p>CppDOM (<a href="http://www.sourceforge.net/projects/xml-cppdom/" target="_top">http://www.sf.net/projects/xml-cppdom/</a>): A lightweight, easy-to-use XML parser written in C++</p></li><li><p>Boost (<a href="http://www.boost.org/" target="_top">http://www.boost.org/</a>): A C++ library providing many powerful tools</p></li></ul></div><p>The following lists <span class="emphasis"><em>semi-optional</em></span> packages:</p><div class="itemizedlist"><ul type="disc"><li><p>NSPR (<a href="http://www.mozilla.org/projects/nspr/" target="_top">http://www.mozilla.org/projects/nspr/</a>): The Netscape Portable Runtime, which can be used by VPR for threading and sockets (required on Win32)</p></li><li><p>JDOM (<a href="http://www.jdom.org/" target="_top">http://www.jdom.org/</a>): An XML parser for Java (required only for VjControl, the GUI for editing VR Juggler configuration files)</p></li></ul></div><p>The following describes how to get all of the above except JDOM. JDOM must be downloaded separately.</p><div class="section"><div class="titlepage"><div><h3 class="title"><a name="d0e91"></a>How to get the Juggler Suite and external package dependencies</h3></div></div><p>You can optionally get Juggler as a source code tarball from the website (www.vrjuggler.org) or you can follow these steps to get the code from our CVS repository.</p><div class="orderedlist"><ol type="1"><li><p>Check out the 'juggler' module using CVS.</p><pre class="screen">cvs -d :pserver:anonymous@cvs.vrjuggler.sourceforge.net:/cvsroot/vrjuggler login
cvs -z3 -d :pserver:anonymous@cvs.vrjuggler.sourceforge.net:/cvsroot/vrjuggler co juggler</pre></li><li><p>Get external packages that Juggler depends on. Typically you will run cvs-gather.pl, found in the top-level <tt>juggler</tt> directory.</p><p>The syntax will be similar to the following (you may have to edit the file <tt>Gatherrc</tt>, see also <a href="#acquire" title="Acquire third-party packages">the section called &#8220;Acquire third-party packages&#8221;</a>):</p><pre class="screen">./cvs-gather.pl --verbose</pre><p>You can use the <b>cvs-gather</b> tool, or you can read the file <tt>Gatherrc</tt> and get the packages manually. For more details about this, see <a href="#acquire" title="Acquire third-party packages">the section called &#8220;Acquire third-party packages&#8221;</a>.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="acquire"></a>Acquire third-party packages</h3></div></div><p><b>cvs-gather</b> is a utility we include in the root directory of Juggler to help you collect third-party (external) source code that Juggler needs in order to build. In short, <b>cvs-gather</b> makes it easier to acquire the packages that Juggler needs.</p><p>To get help on using this tool, use one of the following (the second version gives much more detailed output):</p><pre class="screen">./cvs-gather.pl --help
./cvs-gather.pl --manual
</pre><p>Use of <b>cvs-gather</b> is not required. You can skip <b>cvs-gather</b> if you already have the needed packages in your system or if you feel like getting these packages manually. <b>cvs-gather</b> is provided primarily for developer convenience.</p><p>For a list of these package dependencies, you can look in the file <tt>Gatherrc</tt> to determine what packages you need to download manually.</p><p>For <b>cvs-gather</b> to work, it uses a <tt>.gatherrc</tt> file. The <tt>.gatherrc</tt> file is used to specify the external project CVS locations. <b>cvs-gather</b> reads these CVS locations and then checks each one out locally for Juggler to build.</p><p>The following shows how to run <b>cvs-gather</b> with a <tt>.gatherrc</tt> file. As of this writing, such a file is provide that allows anonymous-only CVS access. To use it, enter the following:</p><pre class="screen">./cvs-gather.pl --verbose --cfg=deps.gatherrc</pre><p>To simplify shared use of a single configuration file, the contents of the file may be overridden on the command line or using an &#8220;overrides&#8221; file. The following shows such a file that overrides the CVSROOT settings in <tt>Gatherrc</tt>:</p><pre class="programlisting">      #JugglerBaseStuff.CVSROOT=patrickh@cvs.vrjuggler.sourceforge.net:/cvsroot/vrjuggler 
      Doozer.CVSROOT = patrickh@cvs.doozer.sourceforge.net:/cvsroot/doozer
      Doozer++.CVSROOT = patrickh@cvs.doozer.sourceforge.net:/cvsroot/doozer
      GMTL.CVSROOT = patrickh@cvs.ggt.sourceforge.net:/cvsroot/ggt                  </pre><p>The current <tt>Gatherrc</tt> only allows anonymous CVS access. To override that, we suggest making per-user override files. To use the override file, just add the argument <tt>--override=&lt;filename&gt;</tt> when running <b>cvs-gather</b>.</p><p>The following shows how to run <b>cvs-gather</b> with your own overrides file (called <tt>my_gatheroverride</tt>):</p><pre class="screen">cvs-gather.pl --override=my_gatheroverride</pre><p>If all goes well, you'll get everything you need to compile.</p></div></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e214"></a>Compiling</h2></div></div><p>In this section, we describe how to compile the Juggler project. As of this writing, the explanation focuses on VR Juggler as a whole.</p><div class="section"><div class="titlepage"><div><h3 class="title"><a name="d0e219"></a>Important Note Regarding Compiling</h3></div></div><p>Please note: you have downloaded <span class="emphasis"><em>developmental</em></span> code. It may not be stable, and it may not even compile. Compiling Juggler itself can be a little complicated for anyone who does not have some background in Autoconf, C++, and make.</p></div><div class="section"><div class="titlepage"><div><h3 class="title"><a name="d0e227"></a>Compiling the Juggler Suite of tools</h3></div></div><p>This section explains how to get, configure, and compile all of the tools that make up VR Juggler at once. Each tool compiles to its own library and can be installed individually. (Refer to the <tt>README</tt> file in this directory for more information about the specific modules.)</p><div class="section"><div class="titlepage"><div><h4 class="title"><a name="config.section"></a>Configuring and compiling VR Juggler</h4></div></div><p>Every time you have newly updated source code acquired from CVS or <b>cvs-gather</b>, it is recommended that you run <b>autogen.sh</b>, found in the top-level <tt>juggler</tt> directory:</p><pre class="screen">./autogen.sh</pre><p>Also in this directory, we have a &#8220;global&#8221; configure script written in Perl rather than Autoconf. It is called <b>configure.pl</b>. To get options for this script, use one of the following (the second being much more detailed):</p><pre class="screen">./configure.pl --help
./configure.pl --manual</pre><p>To configure your system, you'll need to see what options all the Autoconf-based configure scripts in Juggler need. To get this text, enter:</p><pre class="screen">./configure.pl --all-help</pre><p><b>configure.pl</b> works in a different &#8220;build&#8221; directory or in the directory where it resides. Here is how we (the team) have been using it:</p><div class="orderedlist"><ol type="1"><li><p>Make a directory for compiling. There are many good reasons to do this away from the main source tree.</p><pre class="screen">mkdir build.linux.posix</pre><p>This example using an ad hoc naming convention based on operating system and threading subsystem. Other examples could be <tt>build.irix.sproc</tt>, <tt>build.solaris.nspr</tt>, etc.</p></li><li><p>Enter the new build directory.</p><pre class="screen">cd build.linux.posix</pre></li><li><p>Configure all the modules making up VR Juggler. This is when you must tell the module configure scripts where all the package dependencies are found. For this description, we will use the term <tt>&lt;JUGGLER PATH&gt;</tt> to refer to the base of the Juggler Project source tree and <tt>&lt;JDOMPATH&gt;</tt> to refer to the JDOM installation. Assume that both of these are absolute paths (e.g., <tt>&lt;JUGGLERPATH&gt;</tt> = <tt>/home/user1/Source/juggler</tt>).</p><pre class="screen">../configure.pl --prefix=$HOME/vrjuggler-2.0 --with-cppdom=&lt;JUGGLERPATH&gt;/external/cppdom --with-jdom="&lt;JDOMPATH&gt;/build/jdom.jar:&lt;JDOMPATH&gt;/lib/xerces.jar"</pre></li><li><p>Compile the source tree using GNU make.</p><pre class="screen">gmake build</pre></li></ol></div><p>Once this completes, you will have a full build of VR Juggler. For those who are not interested in developing VR Juggler or its component modules, it is recommended that you install the software and use the installed version for application development. Do this as follows:</p><pre class="screen">gmake install</pre></div><div class="section"><div class="titlepage"><div><h4 class="title"><a name="d0e317"></a>Compiling individual tools in the Juggler Suite</h4></div></div><p>Sometimes you do not want to build everything in the Juggler Suite. Here are steps for configuring/building each package individually.</p><div class="section"><div class="titlepage"><div><h5 class="title"><a name="d0e322"></a>VPR (individual)</h5></div></div><p>VPR can be configured a number of ways. Except when building on Win32, no external packages are required. For Win32, NSPR (<a href="http://www.mozilla.org/" target="_top">www.mozilla.org</a>) is required. To build VPR, do the following from the top-level <tt>juggler</tt> directory:</p><div class="orderedlist"><ol type="1"><li><p><pre class="screen">mkdir build.vpr
cd build.vpr</pre></p></li><li><p><pre class="screen">../configure.pl --module=VPR --prefix=$HOME/vpr-inst</pre></p></li><li><p><pre class="screen">gmake debug install</pre></p></li><li><p><pre class="screen">setenv VPR_BASE_DIR $HOME/vpr-inst</pre></p></li></ol></div><p>If you want to use NSPR, make sure a binary version is installed. In step 2, add the arguments <tt>--enable-subsystem=NSPR</tt> and <tt>--with-nspr=&lt;path to NSPR&gt;</tt>. Once that is done, proceed with steps 3 and 4 as normal.</p></div><div class="section"><div class="titlepage"><div><h5 class="title"><a name="d0e358"></a>Sonix (individual)</h5></div></div><p>Sonix requires a third-party software package called GMTL (<a href="http://ggt.sf.net/" target="_top">ggt.sf.net</a>). Sonix wraps other audio subsystems such as OpenAL (<a href="http://www.openal.org/" target="_top">www.openal.org</a>) or AudioWorks (<a href="http://www.multigen.com/" target="_top">multigen.com</a>). One of these subsystems are required in order to hear sound. Once you have all the necessary source code and third-party package installations, to the following from the top-level <tt>juggler</tt> directory:</p><div class="orderedlist"><ol type="1"><li><p><pre class="screen">mkdir build.sonix
cd build.sonix</pre></p></li><li><p>Choose one of the following depending on which subsystem (or both) you want to enable in sonix...</p><p><pre class="screen">../configure.pl --module=Sonix --prefix=$HOME/sonix-inst --enable-openal --with-oalroot=/usr/local
../configure.pl --module=Sonix --prefix=$HOME/sonix-inst --enable-audioworks</pre></p></li><li><p><pre class="screen">gmake debug install</pre></p></li><li><p><pre class="screen">setenv SNX_BASE_DIR $HOME/sonix-inst</pre></p></li></ol></div></div><div class="section"><div class="titlepage"><div><h5 class="title"><a name="d0e394"></a>JCCL (individual)</h5></div></div><p>JCCL requires VPR, CppDOM (<a href="http://www.sourceforge.net/projects/xml-cppdom/" target="_top">http://www.sf.net/projects/xml-cppdom/</a>), and JDOM B7 or newer (<a href="http://www.jdom.org/" target="_top">http://www.jdom.org/</a>). To build JCCL, do the following from the top-level <tt>juggler</tt> directory:</p><div class="orderedlist"><ol type="1"><li><p><pre class="screen">mkdir build.jccl
cd build.jccl</pre></p></li><li><p><pre class="screen">../configure.pl --module=JCCL --prefix=$HOME/jccl-inst --with-cppdom=&lt;JUGGLERPATH&gt;/external/cppdom --with-jdom="&lt;JDOMPATH&gt;/build/jdom.jar:&lt;JDOMPATH&gt;/lib/xerces.jar"</pre></p></li><li><p><pre class="screen">gmake debug install</pre></p></li><li><p><pre class="screen">setenv JCCL_BASE_DIR $HOME/jccl-inst</pre></p></li></ol></div></div><div class="section"><div class="titlepage"><div><h5 class="title"><a name="d0e425"></a>Gadgeteer (individual)</h5></div></div><p>Gadgeteer depends on JCCL and on VPR. It also needs the third-party math library GMTL (<a href="http://ggt.sourceforge.net/" target="_top">http://ggt.sf.net/</a>). Assuming you have all the source code, do the following from the top-level <tt>juggler</tt> directory:</p><div class="orderedlist"><ol type="1"><li><p><pre class="screen">mkdir build.gadgeteer
cd build.gadgeteer</pre></p></li><li><p><pre class="screen">../configure.pl --module=Gadgeteer --prefix=$HOME/gadgeteer-inst --with-cppdom=&lt;JUGGLERPATH&gt;/external/cppdom --with-jdom="&lt;JDOMPATH&gt;/build/jdom.jar:&lt;JDOM PATH&gt;/lib/xerces.jar"</pre></p></li><li><p><pre class="screen">gmake debug install</pre></p></li><li><p><pre class="screen">setenv GADGET_BASE_DIR $HOME/gadgeteer-inst</pre></p></li></ol></div></div><div class="section"><div class="titlepage"><div><h5 class="title"><a name="d0e453"></a>Tweek (individual)</h5></div></div><p>Tweek depends on VPR. It needs JDK 1.3.1, JDOM B7 or newer, and the third-party CORBA implementations omniORB 3.0.4 (C++) and OpenORB 1.2.0 (Java). These packages can be downloaded from the following websites:</p><div class="itemizedlist"><ul type="disc"><li><p>JDOM: <a href="http://www.jdom.org/" target="_top">http://www.jdom.org/</a></p></li><li><p>omniORB: <a href="http://www.jdom.org/" target="_top">http://www.omniorb.org/</a></p></li><li><p>OpenORB: <a href="http://www.jdom.org/" target="_top">http://www.openorb.org/</a></p></li></ul></div><p>For the following steps, assume that you have omniORB installed in <tt>&lt;OMNIORBPATH&gt;</tt>, OpenORB is installed in <tt>&lt;OPENORBPATH&gt;</tt>, and JDOM is installed in <tt>&lt;JDOMPATH&gt;</tt>.</p><p>Assuming you have the external packages installed, do the following from the top-level <tt>juggler</tt> directory:</p><div class="orderedlist"><ol type="1"><li><p><pre class="screen">mkdir build.tweek
cd build.tweek</pre></p></li><li><p><pre class="screen">../configure.pl --module=Tweek --prefix=$HOME/tweek-inst --with-jdom=&lt;JDOMPATH&gt;/jdom.jar:&lt;JDOMPATH&gt;/xerces.jar --with-cxx-orb=omniORB3 --with-cxx-orb-root=&lt;OMNIORBPATH&gt; --with-java-orb=OpenORB --with-java-orb-jar=&lt;OPENORBPATH&gt;/lib/openorb-1.2.0.jar</pre></p></li><li><p><pre class="screen">gmake debug install</pre></p></li><li><p><pre class="screen">setenv TWEEK_BASE_DIR $HOME/tweek-inst</pre></p></li></ol></div><p>If JDK 1.4.0 is used, you do not need OpenORB (or any other third-party CORBA implementation for Java). In that case, pass <tt>--with-java-orb=JDK</tt> to <b>configure.pl</b>.</p><p>Depending on your omniORB installation, you may have to pass extra arguments to <b>configure.pl</b> so that the configuration process can find the <b>omniidl</b> binary and the omniORB libraries. For example, on RedHat Linux 7.2, the following arguments must be specified in addition to the above:</p><pre class="screen">--with-cxx-orb-bin=&lt;OMNIORBPATH&gt;/bin/i586_linux_2.0_glibc --with-cxx-orb-lib=&lt;OMNIORBPATH&gt;/lib/i586_linux_2.0_glibc</pre></div></div></div></div></div></body></html>