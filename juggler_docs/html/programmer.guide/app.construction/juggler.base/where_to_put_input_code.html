<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>How to get input</title>
<!-- <link rel="stylesheet" type="text/css" href="../../../../style/base_style.css"> -->
</head>

<body>


<h3>Where should input be handled?</h3>
<p>The last section showed how to get input from devices, but it never said
where this code should go.&nbsp; So where should it go?&nbsp; That is a very
good question that is actually application dependent.&nbsp; But there are some
very good guidelines for where applications should do input processing.</p>
<p>First of all lets start out with a sequence diagram of the VR Juggler control
loop.</p>
<p><img border="0" src="${PROGRAMMERGUIDE}/images/AppInitAndMainLoop_modified.gif" width="473" height="491"></p>
<p>There is a lot going on here, but the key thing to look at is the <tt>updateAllData()</tt>
call near the bottom of the diagram.&nbsp; This line is where VR Juggler goes
out and updates all the cached device data that will be used in the drawing of
the next frame.&nbsp; This updated copy is also used by all user references to
device data until the next update and the end of the next frame of execution.</p>
<p>Okay, so what does this actually mean.&nbsp; It means two major things.</p>
<ul>
  <li>The device data is &quot;freshest&quot; in <tt>vjApp::preFrame()</tt></li>
  <li>Any time spent in <tt>vjApp::preFrame()</tt> increases overall system
    latency</li>
</ul>
<p>The first point is important because it means that if you application wants
to do processing on the lowest latency copy of the data that it can get, then it
can do this in the <tt>preFrame()</tt> function.&nbsp;&nbsp;</p>
<p>The second point is equally important because it says why user applications
should not waste any time in preFrame().&nbsp; Any time spent in preFrame()
increases system latency and thus decreases the perceived quality of the
environment for the users.&nbsp; Avoid placing computations in preFrame()!!!</p>

</body>

</html>
