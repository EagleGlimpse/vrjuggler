<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>How to get input</title>
<link rel="stylesheet" type="text/css" href="../../../../style/base_style.css">
</head>

<body>

<h2>Tutorial: Simple application that gets and prints input<br>
</h2>
<table border="1" cellpadding="3" cellspacing="0" width="95%">
  <tr>
    <td valign="top">
      <h3>Description</h3>
    </td>
    <td>Simple application that prints the location of the head and wand.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Objective</h3>
    </td>
    <td>After completing this tutorial, you should understand how to get
      positional and digital input in a VR Juggler application.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Member functions</h3>
    </td>
    <td>
      <ul>
        <li><b>vjApp::init()</b></li>
        <li><b>vjApp::preFrame()</b></li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Files</h3>
    </td>
    <td>
      <ul>
        <li>Dir: $VJ_BASE_DIR/sample/tutorials/simpleInput</li>
        <li>simpleInput.[h,cpp]</li>
      </ul>
    </td>
  </tr>
</table>
<h3>Class interface and data members</h3>
<pre>class simpleInput : public vjGlApp
{
public:
   virtual void init();
   virtual void preFrame();

public:
   vjPosInterface    mWand;         // Positional interface for Wand position
   vjPosInterface    mHead;         // Positional interface for Head position
   vjDigitalInterface   mButton0;   // Digital interface for button 0
   vjDigitalInterface   mButton1;   // Digital interface for button 1
};</pre>

<p>The important thing to look at here are the data members.&nbsp; You can see
that the application has four device interface member variables.&nbsp; There are
two for positional input (<tt>mWand, mHead</tt>) and two others for digital
input (<tt>mButton0, mButton1</tt>).</p>

<p>Each of these member variables is a handle to a &quot;real&quot; device that
we will get data from in <tt>preFrame()</tt>.</p>
<h3>Initializing the device interfaces - vjApp::init()</h3>
<pre>virtual void init()
{
   // Initialize devices
   mWand.init(&quot;VJWand&quot;);
   mHead.init(&quot;VJHead&quot;);
   mButton0.init(&quot;VJButton0&quot;);
   mButton1.init(&quot;VJButton1&quot;);
}</pre>
<p>The devices are initialized in the init() function of the application.&nbsp;
For each device interface member variable, the application calls the variable's
init() function with the name of the configured device to get input from.&nbsp;
From this point on in the application, the member variables are handles to the
named device.</p>

<h3>Examining the device data - vjApp::preFrame()</h3>

<pre>virtual void preFrame()
{
   if(mButton0-&gt;getData())
      { std::cout &lt;&lt; &quot;Button 0 pressed&quot; &lt;&lt; std::endl; }
   if(mButton1-&gt;getData())
      { std::cout &lt;&lt; &quot;Button 1 pressed&quot; &lt;&lt; std::endl; }
 
   std::cout  &lt;&lt; &quot;Wand Buttons:&quot;
              &lt;&lt; &quot; 0:&quot; &lt;&lt; mButton0-&gt;getData()
              &lt;&lt; &quot; 1:&quot; &lt;&lt; mButton1-&gt;getData()
              &lt;&lt; std::endl;
                 
   // -- Get Wand matrix --- //
   vjMatrix wand_matrix;
   wand_matrix = *(mWand-&gt;getData());
   std::cout &lt;&lt; &quot;Wand pos: \n&quot; &lt;&lt; wand_matrix &lt;&lt; std::endl;
}</pre>

<p>This member function just gives an example of how to examine the input data
using the device interface member variables.</p>
<p>The first several statements check the status of the two digital buttons and
writes out a line if the button has been pressed.&nbsp; The next line just
writes out the current state of both the buttons irregardless of whether or not
they are currently being pressed.&nbsp; The final section just prints out the
current location of the wand in the VR environment.</p>
<p>As you can see, using input devices is very simple once you know how to use
device interfaces.</p>

</body>

</html>
