<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>OpenGL App Interface</title>
<!-- <link rel="stylesheet" type="text/css" href="../../../../style/base_style.css"> -->
</head>

<body>

<h2>Tutorial: Simple OpenGL application that draw a cube<br>
</h2>
<table border="1" cellpadding="3" cellspacing="0" width="95%">
  <tr>
    <td valign="top">
      <h3>Description</h3>
    </td>
    <td>A simple OpenGL application that draw a cube in the environment.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Objective</h3>
    </td>
    <td>After completing this tutorial, you should understand how the draw()
      function in vjGlApp works and be able to create basic OpenGL base VR
      Juggler applications.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Member functions</h3>
    </td>
    <td>
<ul>
  <li><b>vjApp::init()</b></li>
  <li><b>vjGlApp::draw()</b></li>
</ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Files</h3>
    </td>
    <td>
<ul>
  <li>Dir: $VJ_BASE_DIR/sample/tutorials/simpleApp</li>
  <li>simpleApp.[h,cpp]</li>
</ul>
    </td>
  </tr>
</table>
<h3>Class interface</h3>
<pre>class simpleApp : public vjGlApp
{
public:
   simpleApp();
   virtual void init();
   virtual void draw();

public:
   vjPosInterface mWand;
   vjPosInterface mHead;
   vjDigitalInterface mButton0;
   vjDigitalInterface mButton1;
};</pre>

As you can see from the class interface in simpleApp.h, the application class is
called simpleApp.&nbsp; It is derived from vjGlApp and has custom init and draw methods
declared.&nbsp; Also, you should note that the application declares several device interface members
that are used&nbsp; by the application for getting device data.
<h3>draw() function</h3>

<pre>void simpleApp::draw()
{
   ...
   // Create box offset matrix
   vjMatrix box_offset;		
   box_offset.makeXYZEuler(-90,0,0);
   box_offset.setTrans(0.0,1.0f,0.0f);
   ...
   glPushMatrix();
         // Push on offset
         glMultMatrixf(box_offset.getFloatPtr());
         ...
         drawCube();
   glPopMatrix();
   ...
}</pre>

<p>The implementation of draw() is located in simpleApp.cpp.&nbsp; This function
simply draws the environment.</p>

<p>You can see that there is no projection code in the function.&nbsp; When the
function is called by VR Juggler, the projection matrix has already been
correctly set up for the by the system.&nbsp; All the user application has to do
is draw the environment.&nbsp; VR Juggler handles the rest.</p>

<p>In this example, the draw() function is simply drawing a cube at an offset
location.&nbsp; The first section of the function creates a vjMatrix that
defines the offset of the cube in the virtual world.&nbsp; This matrix is pushed
onto the OpenGL modelview matrix stack, and then a cube is drawn.</p>

<h3>Exercise</h3>

<p>Change the code so that the cube is drawn at the position of the wand instead
of at the box_offset location.</p>

</body>

</html>
