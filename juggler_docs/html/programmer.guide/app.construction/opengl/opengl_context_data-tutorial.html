<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>OpenGL App Interface</title>
<link rel="stylesheet" type="text/css" href="../../../../style/base_style.css">
</head>

<body>

<h2><br>
Tutorial: Application that draws using display lists.<br>
</h2>
<table border="1" cellpadding="3" cellspacing="0" width="95%">
  <tr>
    <td valign="top">
      <h3>Description</h3>
    </td>
    <td>Draw a cube using a display list in the draw function.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Objective</h3>
    </td>
    <td>After completing this tutorial, you should understand how to use context
      specific data in an application.</td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Member functions</h3>
    </td>
    <td>
      <ul>
        <li><b>vjApp::init()</b></li>
        <li><b>vjGlApp::contextInit()</b></li>
        <li><b>vjGlApp::draw()</b></li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <h3>Files</h3>
    </td>
    <td>
      <ul>
        <li>Dir: $VJ_BASE_DIR/sample/tutorials/contextApp</li>
        <li>contextApp.[h,cpp]</li>
      </ul>
    </td>
  </tr>
</table>
<h3>Data members</h3>
<pre>class contextApp : public vjGlApp
{
public:
   contextApp() {;}
   virtual void init();
   virtual void contextInit();
   virtual void draw();
    ...
public:
   // Id of the cube display list
   vjGlContextData<GLuint>  mCubeDlId;
   ...
};
</pre>

Context stuff

<pre>
void simpleApp::contextInit()
{
   // Allocate context specific data
   (*mCubeDlId) = glGenLists(1);

   glNewList((*mCubeDlId), 
                      GL_COMPILE);
      glScalef(0.50f, 0.50f, 0.50f);
      drawCube();
   glEndList();
   ...
}
   </pre>

Create display list, context specifid version is used.

<pre>
void simpleApp::draw()
{
   // Get Wand matrix
   vjMatrix wand_matrix;
   wand_mat = *(mWand-&gt;getData());
   ...
   glPushMatrix();
      glPushMatrix();
         glMultMatrixf(wand_mat.getFloatPtr());    
         glCallList(*mCubeDlId);
      glPopMatrix();
      ...
   glPopMatrix();
}
</pre>

Render display list
De-reference context specific display list id.


<p>Context specific data for a display list that draws a cube.</p>

<h3>Exercise</h3>
Replace the call to drawAxis() in draw() with a display list call.

</body>

</html>
