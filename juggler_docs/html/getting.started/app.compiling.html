<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">

<HEAD>
<TITLE>Compiling a VR Juggler Sample Program</TITLE>
</HEAD>

<BODY>

<!--NewPage-->
<H1>Compiling a VR Juggler Sample Program</H1>

<!-- install-web toc-begin -->
<H2>Table of Contents</H2>

  <OL>
    <LI>
      <A HREF="#intro">Introduction</A>
    </LI>
    <LI>
      <A HREF="#reading">Required Reading</A>
    </LI>
    <LI>
      <A HREF="#compiling">Compiling an Application</A>
      <OL TYPE="i">
        <LI>
          <A HREF="#command-line">From the Command Line</A>
        </LI>
        <LI>
          <A HREF="#visual-studio">With Visual Studio</A>
        </LI>
      </OL>
    </LI>
    <LI>
      <A HREF="#extra">Additional Notes</A>
    </LI>
  </OL>
<!-- install-web toc-end -->

<A NAME="intro"><H2>Introduction</H2></A>

  <P>
    Now that you have VR Juggler installed and you have your environment all
    configured, it's time for the fun to begin.  No, seriously.  You are now
    ready to compile and run VR Juggler applications, and that's the whole
    point, right?  This document explains how to compile the applications
    provided in the directory <TT>$VJ_BASE_DIR/samples</TT>.
  </P>

<A NAME="reading"><H2>Required Reading</H2></A>

  <P>
    Before reading any further, make sure you have already read the
    instructions on how to <A HREF="${GETTINGSTARTED}/install.html">install
    VR Juggler</A> and on how to
    <A HREF="${GETTINGSTARTED}/environment.variables.html">configure your
    environment</A>.  That information will not be repeated, and it is
    assumed that you already know what we mean by <TT>$VJ_BASE_DIR</TT>.
    You should also have a basic understanding of how <TT>make</TT>(1)
    works, but in these examples, nothing more will be necessary than
    typing <TT>make</TT> on the command line.  Refer to the
    <TT>make</TT>(1) manual page for more information about it.
  </P>

<A NAME="compiling"><H2>Compiling an Application</H2></A>

  <P>
    There are two ways to compile VR Juggler applications: from the
    command line or with Microsoft Visual Studio.  Compiling an
    application at the command line will work on all supported platforms
    including Win32.  Using Microsoft Visual Studio will only work on
    Win32.
  </P>

<A NAME="command-line"><H3>Compiling From the Command Line</H3></A>

  <P>
    All the sample programs in <TT>$VJ_BASE_DIR/samples</TT> use the same
    basic steps to compile unless otherwise noted.  Always refer to the
    top of the sample application's <TT>Makefile</TT> for information that
    may be specific to building that application.  In general, though, all
    applications' makefiles are compatible with the standard version of
    the <TT>make</TT>(1) utility.  This includes the <TT>nmake</TT>
    command provided with Visual C++.
  </P>

  <P>
    The example used here will be the <TT>torus</TT> application found in
    <TT>$VJ_BASE_DIR/samples/ogl/torus</TT>.  It is an OpenGL-based
    application that will compile and run on all platforms supported by
    VR Juggler.  Begin by changing into the directory
    <TT>$VJ_BASE_DIR/samples/ogl/torus</TT> in a command shell.
  </P>

  <P>
    To compile <TT>torus</TT>, simply enter the following:

<PRE>
    % <B>make</B>
</PRE>

    or on Win32 without Cygwin, enter:

<PRE>
    % <B>nmake</B>
</PRE>

    The compile process will then begin.  If you have your system set up
    properly, it will complete with an executable <TT>torus</TT> file (or
    <TT>torus.exe</TT> on Win32) in the directory.  Now that you have a
    program compiled, it's time to
    <A HREF="${GETTINGSTARTED}/app.running.html">learn how to run it</A>.
  </P>

<A NAME="visual-studio"><H3>Compiling Using Microsoft Visual Studio</H3></A>

  <P>
    All of the OpenGL sample applications are shipped with pre-configured
    Microsoft Visual C++ workspaces.  This is done to help new users get
    started with compiling VR Juggler applications and to give experienced
    Visual Studio users a starting place for their application development.
    To use the workspace for the <TT>torus</TT> application, begin by
    opening the folder containing the source code and double-clicking on
    <TT>torus.dsw</TT>.
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.dir.jpg" ALT="">
  </BLOCKQUOTE>

  <P>
    Visual C++ will open, and the <TT>torus</TT> project will be loaded.
    The unexpanded class view will look like the following when Visual
    C++ first loads:
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.visual.c++.jpg" ALT="">
  </BLOCKQUOTE>

  <P>
    Before proceeding, the program arguments must be set.  This is done
    using the ``Settings'' item under the ``Project'' menu:
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.visual.c++.settings.jpg" ALT="">
  </BLOCKQUOTE>

  <P>
    Selecting this item opens the ``Project Settings'' dialog.  In this
    window, choose the ``Debug'' tab.  There will be an empty text entry
    field under the heading ``Project arguments''.  Here, enter the full
    paths to the VR Juggler config files that will be used to run the
    <TT>torus</TT> application.  The <TT>$VJ_BASE_DIR</TT> environment
    variable cannot be used here, unfortunately, so the <I>full path</I>
    to <I>every</I> file must be used.  The following shows the beginning
    of the program arguments listing <TT>sim.base.config</TT>,
    <TT>sim.wand.mixin.config</TT>, and <TT>sim.displays.config</TT>:
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.visual.c++.args.jpg" ALT="">
  </BLOCKQUOTE>

  <P>
    Note that in this example, the <TT>/</TT> directory separator is used
    instead of <TT>\</TT>.  This is not strictly required in this case,
    but doing it this way maintains consistency with other examples.
  </P>

  <P>
    Once the program arguments are set up, compile the application.
    Under the ``Build'' menu, choose the ``Build torus.exe'' item as
    shown below:
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.visual.c++.build.jpg" ALT="">
  </BLOCKQUOTE>

  <P>
    Visual C++ will compile the application, and if you have everything
    configured properly on your computer, the compiling will complete
    successfully.  Once it is done, execute the <TT>torus</TT> program
    by choosing the ``Execute torus.exe'' item from the ``Build'' menu,
    shown below.
  </P>

  <BLOCKQUOTE>
    <IMG SRC="torus.visual.c++.run.jpg" ALT="">
  </BLOCKQUOTE>

<A NAME="extra"><H2>Additional Notes</H2></A>

  <P>
    In some cases, VR Juggler applications have makefiles that require
    the use of GNU make.  This is always noted in the heading comments of
    <TT>Makefile</TT> in the application's directory.  GNU make is free
    software that can be downloaded from <A HREF="http://www.gnu.org/">the
    GNU Project</A>.  Some operating system vendors provide pre-compiled
    packages for easy installation of GNU software.
  </P>

  <P>
    On the Win32 family of platforms, it is possible to develop VR Juggler
    applications as Visual C++ projects rather than using the
    command-line interface.  We do not currently have an example of how to
    do this, but when it is available, it will be in the
    <A HREF="${PROGRAMMERGUIDE}"><I>Programmer Guide</I></A>.
  </P>

</BODY>
