<H2><img border=0 src="${IMAGES}/Icons/24x24_Images/Document.gif" ALT="">
VR Juggler Documentation Build System</H2>

<!-- install-web toc-begin -->
<H3> Table Of Contents: </H3>
<ul>
	<li><a href="#intro">Introduction</a></li>
	<li><a href="#required">Required Reading</a></li>
	<li><A href="#building">Building the project</a></li>
	<ol>
	<li><A href="#docs">Step by step build of the Juggler documentation.</a> </li>
	<li><A href="#class_ref">Step by step build of the C++ class reference.</a> </li>
	</ol>
	<li><a href="#adding">Adding your own documentation</a></li>
	<ol>
		<li><a href="#jexplorer">JExplorer Tree Control</a></li>
		<li><a href="#filetypes">File types handled by the build script</a></li>
		<li><a href="#subst">Using Aliases and Path substitutions</a></li>
		<li><a href="#install-web">Using install-web script commands</a></li>
		
	</ol>
</ul>
<!-- install-web toc-end -->


<H4><a name="intro">Introduction</a></H4>

<P>
The Juggler Documentation project uses a few Perl scripts to generate and
install the documentation.  In addition, Juggler uses Perceps to auto-generate 
it's C++ Class reference.  To better understand what you're doing, please read 
and understand the material in <a href="#required">Required Reading</a>.  
</P>

<P>
<img border=0 src="${IMAGES}/Icons/24x24_Images/Inform.gif" ALT=""> 
To view the documentation, you must first build it.<BR>
<img border=0 src="${IMAGES}/Icons/24x24_Images/Caution.gif" ALT=""> Currently the docs do not load locally due to 
a bug in the java tree control.  <B>You must view the docs over an http connection!!</b> (let us know if you find a better solution than ours! We need a tree control.).
</P>

<H4><a name="required">Required Reading</a></H4>

<ul>
<li><a href="http://www.perl.com/">Perl</a> documentation. (Try doing a 'man' or 'info' on perl, there also is a good book by O'Reilly.).</li>
<li><a href="http://starship.python.net/crew/tbryan/PERCEPS/">perceps</a> documentation (Used in juggler to autogenerate documentation for CPP classes).</li>
<li><a href="http://www.sourcegear.com/CVS">CVS</a> documentation (used for revision control, lets you directly check in and out source)</li>
</ul>


<H4><a name="building">Building the project:</a></H4>

<P>
To view the documentation, you must first build it.  Many of the HTML files have
tags which web browsers cannot read - thus you'd get many broken links if you 
tried load the index.html locally.  The install script (in the install directory) 
will parse the documentation and install a viewable copy into a location of 
your choice.  (NOTE: you may have to install the docs into a web server to 
view, there have been some problems using the tree control locally.)
</P>

<P>
Build the project by running "install-web.pl" from the install directory.
If you run this with a -z option, it will save your arguments in a script 
that you can then use to build the project (this is recommended).
</P>

<P>
<img border=0 src="${IMAGES}/Icons/24x24_Images/Caution.gif" ALT=""> install-web checks for changes by time stamp.  If you notice that one of your files is not getting updated, then you can force a complete rebuild with the -a option.  The build will go much slower with the -a option.
</P>

<H5><a name="docs">Step by step build of the Juggler documentation.</a></H5>

<ol>
	<li>Run install-web.pl with no arguments from within the install directory.</li>
	<li> Read the options that it prints to the screen.<BR>
	      They should look something like this: <BR>
	      <BR>
	      Usage: <i><b>install-web.pl</b> -s [source directory] 
	      -t [target directory] -i[ignore dir],[ignore dir],.. 
	      -c [css header] -e [html header] -f [html footer] 
	      -h [HTML install path] -w [subst file] -a (force all) 
	      -z [name of script file to output]</i><BR>
	</li>
	<li> Now run install-web.pl with your options, here's an example:<BR>
	     <BR>
	     <b>install-web.pl</b>  <i>-s</i> ../. 
	     <i>-t</i> /home/users/kevn/public_html/vrj/ 
	     <i>-i</i> __deleteme,JExplorer,install,CVS,ver1.05 
	     <i>-c</i> html/css_header.html 
	     <i>-e</i> html/header.html 
	     <i>-f</i> html/footer.html 
	     <i>-h</i> http://www.vrac.iastate.edu/~kevn/vrj/ 
	     <i>-w</i> subst.pl 
	     <i>-z</i> kevinsMakeScript.pl<BR>
	</li>
	<li> That is a lot to type, luckily the <i>-z</i> option saved your setup into
	      a script file.  Next time you want to build the project just run that file.<BR>
	      <BR>
	      <img border=0 src="${IMAGES}/Icons/24x24_Images/Inform.gif" ALT=""> Recommended: Use the -Z option to save your build setup! <BR>
	</li>
	<li> Now run your -Z file (<i>kevinsMakeScript.pl</i>), consider this your 
	     new install command since you've saved your settings there.
	</li>
	<li> After running, this script will popup a netscape browser with the web 
	     site loaded into it.<BR>
	     <BR>
	     <img border=0 src="${IMAGES}/Icons/24x24_Images/Inform.gif" ALT=""> To view this documentation, always run your script.<BR>
	</li>
</ol>
<small>If this tutorial has errors or is incomplete, please <a href="${JUGGLER_DEV_MAILING_LIST}">Tell Us</a></small><BR>
<BR>
<BR>
	

<H5><a name="class_ref">Step by step build of the C++ class reference.</a></H5>

<ol>
	<li>Obtain the Juggler project</li>
	<li>Change directory to the <b>Doc</b> directory</li>
	<li>Run the make script: <b>make doc-public</b></li>
	<li>Copy the contents of <b>Doc/public_doc</b> to <b>juggler_docs/html/programmer.reference/classes</b></li>
</ol>
<small>If this tutorial has errors or is incomplete, please <a href="${JUGGLER_DEV_MAILING_LIST}">Tell Us</a></small><BR>
<BR>
<BR>
	

<H4><a name="directories">Directory tree description:</a></H4>

<P>
<b>CVS/           </b>repository directory<br>
<b>pub/           </b>put zip, tar, gz, binaries, pdf, and other downloadable stuff here.<br>
<b>JExplorer/     </b>information and examples on how to use JExplorer.<br>
<b>html/          </b>all site content in the form of HTML <br>
<b>install/       </b>installation scripts: this will compile the docs using Perl.<br>
<b>style/         </b>style sheets (.css files)<br>
<b>LEGAL          </b>The license for the content found in this tree.<br>
<b>images/        </b>all site images.<br>
<b>java.class/    </b>all byte code for the java controls (.class files)<br>
<b>supplemental/  </b>site specific info<br>
<b>README.html    </b>project description (this file)<br>
<b>index.html*    </b>VRJ start page<br>
<b>todo.txt       </b>looking for something to do?  read this file for motivation.<br>
</P>


<H4><a name="adding">Adding your own documentation:</a></H4>

<H5><a name="jexplorer">JExplorer Tree Control</a></H5>

<P>
Be sure to check out the .XML files.  This is where the tree control is specified.  
Note that each book has it's own .xml tree specification in the book's root directory.  
These are dynamically loaded using the &lt;jitfolder&gt; XML tag.
</P>

<P>
<img border=0 src="${IMAGES}/Icons/24x24_Images/Inform.gif" ALT=""> For more info see the <a href="${JEXPLORER_DOCS}">JExplorer documentation</a>.
</P>

<H5><a name="filetypes">File types handled by the build script</a></H5>

<P>
<b>install-web.pl</b> does 3 different operations depending on filetype:
</P>

<UL>
<li>copied - only does a straight copy if time stamps are different.</li>
<li>renamed - renames file, for example .placeholder files strip off the extension</li>
<li>filtered - filters the file, replacing any alias or path variable with one specified in the -w parameter of install-web.pl</li>
</UL>

<P>
Text and document files: <b>.txt .pdf .ps</b> - <i>copied</i><BR>
Binary files: <b>.bin .gz .tar .zip .exe .rpm</b> - <i>copied</i><BR>
HTML Placeholder files: <b>.html.placeholder</b> - <i>renamed, copied, filtered</i><BR>
Placeholder files: <b>.placeholder</b> - <i>renamed, copied</i><BR>
HTML files: <b>.htm .html</b> - <i>copied, filtered</i><BR>
Image files: <b>png jpg gif jpeg</b> - <i>copied</i><BR>
XML: <b>.xml .XML</b> - <i>copied, filtered</i><BR>
Java files: <b>.class .jar .js</b> - <i>copied</i><BR>
Style sheets: <b>css</b> - <i>copied</i><BR>
</P>


<H5><a name="subst">Using Aliases and Path substitutions</a></H5>

<P>
With the -w parameter, you can specify a file that defines path and alias substitutions.  In this file, using normal perl syntax, you add stuff to two hash tables: $path_subst, $alias_subst.<br>
<BR>
Example:<BR>
<b>$path_subst{"HTML"} = 'html/';</b><BR>
<b>$alias_subst{"CONTACT_US_DIRECTLY"} = 'mailto:vrjuggler-contact@vrjuggler.org';</b><BR>
</P>

<H5><a name="install-web">Other install-web script commands</a></H5>

<P>
install-web also has support for inline commands that are "hidden" in HTML comments.  This is a list of the commands that have
been implemented so far.  When specifying an install-web command, place it
within the comment brackets.  The following list describes the commands.
</P>

<DL>
  <DT><b>&lt;!--install-web include <i>[filename]</i> --&gt;</b>
    <DD>
      Inserts a file named <i>[filename]</i> at this location.
    </DD>
  <DT><b>&lt;!--install-web no-css --&gt;</b>
    <DD>
      Tell the install script to <i>not</i> include the default <i>style
      sheet</i>. (the <b>-c</b> option to install-web)
    </DD>
  <DT><b>&lt;!--install-web no-header --&gt;</b>
    <DD>
      Tell the install script to <i>not</i> include the default <i>header</i>.
      (the <b>-e</b> option to install-web)
    </DD>
  <DT><b>&lt;!--install-web no-footer --&gt;</b>
    <DD>
      Tell the install script to <i>not</i> include the default <i>footer</i>.
      (the <b>-f</b> option to install-web)</li>
    </DD>
  <DT>&lt;!--install-web ignore --&gt;</b>
    <DD>
      Tell the install script to simply install (copy) the file,
      <i>ignoring</i> any tags or other script-recognized things.
    </DD>
</DL>
